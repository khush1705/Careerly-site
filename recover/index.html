<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Careerly Pages</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
</head>
<body>
  <p>Forwardingâ€¦</p>
  <script>
    (function () {
      // Prefer fragment (Supabase default). Fallback: some clients move it to ? query.
      var hash = window.location.hash || "";
      var search = window.location.search || "";
      var hasRecovery = (hash + search).indexOf("type=recovery") !== -1;

      if (hasRecovery) {
        // Keep the fragment if present; if only query exists, convert to fragment so recover page logic works.
        var frag = hash ? hash : ("#" + (search.startsWith("?") ? search.slice(1) : search));
        // Redirect to recover/ with the same token fragment
        var target = "./recover/" + (frag.startsWith("#") ? frag : ("#" + frag));
        window.location.replace(target);
      } else {
        // No token -> leave a hint (optional)
        document.body.innerHTML = '<p>Reset relay is at <a href="./recover/">recover</a>.</p>';
      }
    })();
  </script>
</body>
</html>
