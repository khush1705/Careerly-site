<!doctype html>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<script>
  // Supabase sends the token in the URL fragment (#)
  const p = new URLSearchParams(location.hash.slice(1));
  const t = p.get("access_token");
  const type = p.get("type");
  if (type === "recovery" && t) {
    // Forward into your app's deep link with query params
    location.href = `careerly://auth-callback?type=recovery&access_token=${encodeURIComponent(t)}`;
  } else {
    document.body.textContent = "Invalid or expired recovery link. Please request a new reset.";
  }
</script>
